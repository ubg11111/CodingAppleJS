<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=\, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/detail.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <title>Document</title>
</head>
<body>

  <div class="container">
    <div class="row">
  
        <!-- <div class="col-sm-4">
          <img src="https://via.placeholder.com/600" class="w-100">
          <h5>Card title</h5>
          <p>가격 : 70000</p>
        </div> -->
        

    </div>
  </div> 

  <div class="container">
    <button class="btn btn-danger" id="more">더보기</button>
    <button class="btn btn-danger" id="price">가격순정렬</button>
    <button class="btn btn-danger" id="product">상품명정렬</button>
    <button class="btn btn-danger" id="lowMoney">6만원이하 상품표시</button>
  </div>
<script>

  let products = [
      {id : 0, price : 70000, title: 'Blossom Dress'},
      {id : 1, price : 50000, title: 'Springfiled Shirt'},
      {id : 2, price : 60000, title: 'Black Monastery'}

  ];



  // 가격순 정렬 
  $('#price').click(function(){

    products.sort(function(a, b){

      return a.price - b.price;

    });

    $('.row').html('');

    for(let i=0; i<products.length; i++){

    let = templet = `<div class="col-sm-4">
    <img src="https://via.placeholder.com/600" class="w-100">
    <h5>${products[i].title}</h5>
    <p>${products[i].price}</p>
    </div>`;

    $('.row').append(templet);
    }
  });

  // 상품명 정렬
  $('#product').click(function(){

    products.sort(function(a,b){

      return (a.title > b.title) - (a.title < b.title);

    });

    $('.row').html('');
    for(let i=0; i<products.length; i++){

    let = templet = `<div class="col-sm-4">
    <img src="https://via.placeholder.com/600" class="w-100">
    <h5>${products[i].title}</h5>
    <p>${products[i].price}</p>
    </div>`;

    $('.row').append(templet);
    }

  });


  // 6만원 이하 상품명만 표시
  $('#lowMoney').click(function(){

    let low = products.filter(function(a){
      
      return a.price <= 60000;
      
    });

    console.log(low);
    $('.row').html('');
        for(let i=0; i<low.length; i++){

        let = templet = `<div class="col-sm-4">
                          <img src="https://via.placeholder.com/600" class="w-100">
                          <h5>${low[i].title}</h5>
                          <p>${low[i].price}</p>
                          </div>`;

        $('.row').append(templet);
      }
  });




  // // 필터기능
  // let array = [7,5,3,2,30];

  // let newArray = array.filter(function(a){

  //   // 필터는 조건식을 줘서 조건식에 해당하는 값만 출력할 수 있음.
  //   return a > 10;
    
  // });
  // console.log(newArray);

  // 정렬기능
  // let array = [7,3,5,2,40];
  // let array2 = ['a', 'c' , 'b'];
  // array.sort(function(a,b){
  //   // a값이 양수면 a를 오른쪽으로 b값이 음수면 오른쪽으로
  //   // ex) a(7) - b(3) = 4(양수) 오른쪽이동 (오름차순 정렬 됨)
  //   return -a + b;

  // });
  // console.log(array)

  for(let i=0; i<products.length; i++){

      let = templet = `<div class="col-sm-4">
      <img src="https://via.placeholder.com/600" class="w-100">
      <h5>${products[i].title}</h5>
      <p>${products[i].price}</p>
      </div>`;

      $('.row').append(templet);
    }
    
    let count = 0;

    $('#more').click(function(e){
        
        count++;

        if(count == 1){
            $.get('https://codingapple1.github.io/js/more1.json')
            .done((data)=>{

            for(let i=0; i<data.length; i++){
                let templet = `<div class="col-sm-4">
                              <img src="https://via.placeholder.com/600" class="w-100">
                              <h5>${data[i].title}</h5>
                              <p>${data[i].price}</p>
                              </div>`;

              $('.row').append(templet);
            }
          });
        }
        else if(count == 2){

          $.get('https://codingapple1.github.io/js/more2.json')
          .done((data)=>{

          for(let i=0; i<data.length; i++){
              let templet = `<div class="col-sm-4">
                            <img src="https://via.placeholder.com/600" class="w-100">
                            <h5>${data[i].title}</h5>
                            <p>${data[i].price}</p>
                            </div>`;

            $('.row').append(templet);

        }
      });
      e.target.disabled = true;
      
    } // else if문 end
    console.log(count);
}); // more 클릭 end

  

</script>



<script src="javascript/tab.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</body>
</html>